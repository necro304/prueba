{"version":3,"sources":["webpack:///./src/views/AccountingService.vue?846a","webpack:///./src/views/AccountingService.vue?e661","webpack:///./src/views/AccountingService.vue?a353","webpack:///./src/views/AccountingService.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","lang","on","getServices","model","value","callback","$$v","range","expression","directives","name","rawName","domProps","$event","type","indexOf","_k","keyCode","key","target","composing","reference","_l","data","id","_v","_s","firstname","lastname","date","hour","_e","_f","date_estimate","class","status","estado","calculateTotal","discount_porcent","total_contra_entrega","total_contra_entrega_consignar","pay_ce","pagar","staticRenderFns","urlImg","urlImgDboy","services","vermas","search_repartidor","radio","mensajero","repartidoresList","serviceId","formatLocale","firstDayOfWeek","monthBeforeYear","discount","total","setService","console","log","setRepartidores","setItem","serviceData","service","find","e","index","findIndex","undefined","$set","openDialog","$refs","modal","open","toggleId","push","splice","formatDate","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","get","asignarDboy","put","close","getRepartidoresDisponibles","post","created","dateOffset","myDate","setTime","getTime","AccountingService","components","DatePicker","Chip","component"],"mappings":"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","file":"js/chunk-2d0d3ea4.1ee46f8b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout-px-spacing\"},[_c('div',{staticClass:\"row layout-top-spacing\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"statbox widget box box-shadow\"},[_vm._m(0),_c('div',{staticClass:\"widget-content widget-content-area\"},[_c('div',{staticClass:\"row mb-4\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-md-3\"},[_c('date-picker',{attrs:{\"input-class\":\"form-control\",\"range\":\"\",\"lang\":_vm.lang,\"clearable\":false},on:{\"change\":_vm.getServices},model:{value:(_vm.range),callback:function ($$v) {_vm.range=$$v},expression:\"range\"}})],1),_c('div',{staticClass:\"col\"}),_c('div',{staticClass:\"col-12 col-md-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reference),expression:\"reference\"}],staticClass:\"form-control\",attrs:{\"placeholder\":\"NÂº de guia\",\"type\":\"number\"},domProps:{\"value\":(_vm.reference)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getServices()},\"input\":function($event){if($event.target.composing){ return; }_vm.reference=$event.target.value}}})])])])]),_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table\"},[_vm._m(1),_c('tbody',_vm._l((_vm.services),function(data){return _c('tr',{key:data.id},[_c('td',[_c('div',{staticClass:\"td-content product-invoice\"},[_vm._v(\"#\"+_vm._s(data.reference))])]),_c('td',[_c('div',{staticClass:\"td-content customer-name\"},[_c('span',[_vm._v(_vm._s(data.firstname +' '+ data.lastname))])])]),_c('td',[_c('div',{staticClass:\"td-content\"},[_vm._m(2,true),_c('br'),_c('span',[_vm._v(_vm._s(data.date + ' ' +data.hour))]),(data.date_estimate)?_c('br'):_vm._e(),(data.date_estimate)?_c('span',[_c('b',[_vm._v(\"Fecha de entrega:\")])]):_vm._e(),(data.date_estimate)?_c('br'):_vm._e(),(data.date_estimate)?_c('span',[_vm._v(_vm._s(_vm._f(\"moment\")(data.date_estimate,\"MMMM Do YYYY, h:mm a\")))]):_vm._e()])]),_c('td',[_c('div',{staticClass:\"td-content\"},[_c('span',{class:(\"badge badge-\" + (data.status == 0 ? 'danger': 'success'))},[_vm._v(_vm._s(data.estado))])])]),_c('td',[_c('div',{staticClass:\"td-content pricing\"},[_c('span',{},[_vm._v(_vm._s(_vm._f(\"toCurrency\")(_vm.calculateTotal(data))))]),(data.discount_porcent > 0)?[_c('br'),_c('span',{staticClass:\"badge badge-secondary\"},[_vm._v(\"descuento: \"+_vm._s(data.discount_porcent)+\"%\")])]:_vm._e()],2)]),_c('td',[_c('div',{staticClass:\"td-content pricing\"},[(data.total_contra_entrega > 0)?_c('span',{},[_vm._v(_vm._s(_vm._f(\"toCurrency\")(data.total_contra_entrega)))]):_vm._e()])]),_c('td',[_c('div',{staticClass:\"td-content pricing\"},[(data.total_contra_entrega_consignar)?_c('span',{},[_vm._v(_vm._s(_vm._f(\"toCurrency\")(data.total_contra_entrega_consignar)))]):_vm._e()])]),_c('td',[(data.total_contra_entrega_consignar)?_c('div',{staticClass:\"td-content \"},[(data.pay_ce == 0)?_c('button',{staticClass:\"btn btn-info\",on:{\"click\":function($event){return _vm.pagar(data.id)}}},[_vm._v(\"Pagar\")]):_c('span',{staticClass:\"badge badge-success\"},[_vm._v(\"Pagado\")])]):_vm._e()])])}),0)])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"widget-header\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-12 col-md-12 col-sm-12 col-12\"},[_c('h4',[_vm._v(\"Contabilidad servicios\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"thead-dark\"},[_c('tr',[_c('th',[_c('div',{staticClass:\"th-content\"},[_vm._v(\"Referencia\")])]),_c('th',[_c('div',{staticClass:\"th-content\"},[_vm._v(\"Cliente\")])]),_c('th',[_c('div',{staticClass:\"th-content\"},[_vm._v(\"Fecha\")])]),_c('th',[_c('div',{staticClass:\"th-content\"},[_vm._v(\"Estado\")])]),_c('th',[_c('div',{staticClass:\"th-content th-heading\"},[_vm._v(\"Total\")])]),_c('th',[_c('div',{staticClass:\"th-content th-heading\"},[_vm._v(\"Total contra entrega\")])]),_c('th',[_c('div',{staticClass:\"th-content th-heading\"},[_vm._v(\"Total a consignar\")])]),_c('th',[_c('div',{staticClass:\"th-content th-heading\"},[_vm._v(\"Pagar\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('b',[_vm._v(\"Fecha de reserva:\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport {HttpService} from \"@/services/ApiService\";\r\nimport {Dboy, ServiciosInterface} from \"@/models/service\";\r\nimport DatePicker from 'vue2-datepicker';\r\nimport 'vue2-datepicker/index.css';\r\nimport 'vue2-datepicker/locale/es';\r\nimport Chip from \"@/components/chip.vue\";\r\n\r\n\r\n\r\n@Component({\r\n  components:{\r\n    DatePicker,\r\n    Chip\r\n  }\r\n})\r\nexport default class AccountingService extends Vue {\r\n  public urlImg = 'https://todi-upload.s3.amazonaws.com/upload/avatar/';\r\n  public urlImgDboy = 'https://todi-upload.s3.amazonaws.com/upload/dboys/';\r\n\r\n  public services: ServiciosInterface[] = [];\r\n\r\n  public vermas: number[] = [];\r\n\r\n  public estado: any =null;\r\n\r\n  public reference = '';\r\n  public search_repartidor = '';\r\n\r\n\r\n\r\n  public radio: null|number = null;\r\n  public mensajero: null|number = null;\r\n\r\n  public repartidoresList: any[] = [];\r\n\r\n  public serviceId: number|null  = null;\r\n\r\n\r\n  range: Date[] = [];\r\n\r\n\r\n  calculateTotal(data: ServiciosInterface){\r\n    let discount = data.total * (data.discount_porcent / 100);\r\n    return data.total - discount;\r\n  }\r\n\r\n  setService(data: any){\r\n    console.log(data)\r\n    this.services = data.data;\r\n\r\n  }\r\n\r\n  setRepartidores(data: any){\r\n    console.log(data)\r\n    this.repartidoresList = data.data;\r\n  }\r\n\r\n  setItem(data:any){\r\n    let serviceData: ServiciosInterface = data.data;\r\n\r\n    let service: ServiciosInterface | undefined = this.services.find(e => e.id == serviceData.id )\r\n\r\n    if(service){\r\n      service.pay_ce = serviceData.pay_ce;\r\n    }\r\n\r\n    let index = this.services.findIndex(e => e.id == serviceData.id);\r\n    if(index != undefined && index > -1){\r\n      //this.deliveries.splice(index, 1, service)\r\n      console.log(index);\r\n      this.$set(this.services, index, service)\r\n    }\r\n  }\r\n\r\n\r\n  openDialog(id: number){\r\n    this.serviceId = id;\r\n    this.repartidoresList = [];\r\n    this.mensajero = null;\r\n    this.radio = null;\r\n\r\n    // @ts-ignore\r\n    this.$refs.modal.open()\r\n  }\r\n\r\n\r\n\r\n  get miId(){\r\n    return this.vermas.find(e => e === 1)\r\n  }\r\n\r\n  toggleId(id: number){\r\n    if(this.vermas.find(e => e === id) == undefined){\r\n\r\n      this.vermas.push(id)\r\n    }else{\r\n      let index = this.vermas.findIndex(e => e === id)\r\n      this.vermas.splice(index, 1)\r\n    }\r\n  }\r\n\r\n  public lang = {\r\n    formatLocale: {\r\n      firstDayOfWeek: 1,\r\n    },\r\n    monthBeforeYear: false,\r\n  };\r\n\r\n\r\n  formatDate(date: Date) {\r\n    var d = new Date(date),\r\n        month = '' + (d.getMonth() + 1),\r\n        day = '' + d.getDate(),\r\n        year = d.getFullYear();\r\n\r\n    if (month.length < 2)\r\n      month = '0' + month;\r\n    if (day.length < 2)\r\n      day = '0' + day;\r\n\r\n    return [year, month, day].join('-');\r\n  }\r\n\r\n\r\n  pagar(id: number){\r\n    HttpService.get(`contabilidad/servicio/${id}/pagar` ,\r\n        this.setItem)\r\n  }\r\n\r\n\r\n\r\n  asignarDboy(){\r\n    HttpService.put(`services/${this.serviceId}/asignar/mensajero?include=users,directions,directionsCount,dboys&append=estado` ,\r\n        {'dboy': this.mensajero},\r\n        this.setItem)\r\n    // @ts-ignore\r\n    this.$refs.modal.close()\r\n  }\r\n\r\n  getServices(){\r\n    HttpService.get(`services?filter[reference]=${this.reference}&filter[status]=${this.estado}&include=users,directions,directionsCount,dboys&append=estado&filter[starts_between]=${this.formatDate(this.range[0])},${this.formatDate(this.range[1])}` ,\r\n        this.setService)\r\n  }\r\n\r\n  getRepartidoresDisponibles(){\r\n    this.mensajero = null;\r\n    HttpService.post(`repartidores-disponibles`,\r\n        {\r\n          'search': this.search_repartidor,\r\n          'radio': this.radio,\r\n          'id': this.serviceId,\r\n        },\r\n        this.setRepartidores)\r\n  }\r\n\r\n  created(){\r\n    const date = new Date()\r\n\r\n    let dateOffset = (24*60*60*1000) * 30;\r\n    let myDate = new Date();\r\n    myDate.setTime(myDate.getTime() - dateOffset);\r\n    this.range.push(myDate)\r\n    this.range.push(date)\r\n\r\n    console.log(this.formatDate(this.range[0]))\r\n\r\n    this.getServices();\r\n\r\n  }\r\n}\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountingService.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountingService.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AccountingService.vue?vue&type=template&id=5f17b2ac&scoped=true&\"\nimport script from \"./AccountingService.vue?vue&type=script&lang=ts&\"\nexport * from \"./AccountingService.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f17b2ac\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}