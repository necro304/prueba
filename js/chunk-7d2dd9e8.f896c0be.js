(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d2dd9e8"],{ba8b:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var i=a("9ab4"),s=a("3def"),n=function(t){function e(){return t.call(this)||this}return Object(i["d"])(e,t),e.prototype.get=function(t,e){return this.service.get(t).then((function(t){return e(t.data)}))},e.prototype.delete=function(t,e){return this.service.delete(t).then((function(t){return e(t.data)}))},e.prototype.patch=function(t,e,a){return this.service.request({method:"PATCH",url:t,responseType:"json",data:e}).then((function(t){return a(t.status,t.data)}))},e.prototype.post=function(t,e,a){return this.service.request({method:"POST",url:t,responseType:"json",data:e}).then((function(t){return a(t.data)}))},e.prototype.put=function(t,e,a){return this.service.request({method:"PUT",url:t,responseType:"json",data:e}).then((function(t){return a(t.data)}))},e.prototype.test=function(){console.log(this.$vue),console.log(this.$router)},e}(s["a"]),r=new n},fde1:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-px-spacing"},[a("div",{staticClass:"row layout-top-spacing"},[a("div",{staticClass:"col-12"},[t.isLoading?a("div",[a("loading",{attrs:{active:t.isLoading,"is-full-page":!0},on:{"update:active":function(e){t.isLoading=e}}})],1):a("div",{staticClass:"statbox widget box box-shadow"},[a("div",{staticClass:"widget-header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-md-12 col-sm-12 col-12"},[a("h4",[t._v("Tarifas de "+t._s(t.service.name))])])])]),a("div",{staticClass:"widget-content widget-content-area"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table mb-4"},[a("caption",[t._v("Todas las tarifas")]),t._m(0),a("tbody",t._l(t.service.rates,(function(e,i){return a("tr",{key:i},[a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.distance_base)+" ")]),a("td",[t._v(t._s(t._f("toCurrency")(e.km_additional)))]),a("td",[t._v(t._s(t._f("toCurrency")(e.rate_base)))]),a("td",{domProps:{textContent:t._s(e.initial_shipments)}}),a("td",[e.final_shipments?a("div",[t._v(" "+t._s(e.final_shipments)+" ")]):a("div",[t._v(" "+t._s(e.initial_shipments+" en adelante")+" ")])]),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-info",on:{click:function(e){return t.openDialog(i)}}},[a("i",{staticClass:"fa fa-edit"})])])])})),0)])])])])])]),a("sweet-modal",{ref:"modal",attrs:{"overlay-theme":"dark"}},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12 mb-2"},[a("h3",[t._v("Editar Tarifa")])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"initial_shipments"}},[t._v("Cantidad de envios desde")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tarifa.initial_shipments,expression:"tarifa.initial_shipments",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"initial_shipments"},domProps:{value:t.tarifa.initial_shipments},on:{input:function(e){e.target.composing||t.$set(t.tarifa,"initial_shipments",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"final_shipments"}},[t._v("Cantidad de envios hasta")]),null==t.tarifa.final_shipments&&t.indexrate===t.service.rates.length-1?a("input",{staticClass:"form-control-plaintext",attrs:{type:"text",readonly:""},domProps:{value:t.tarifa.initial_shipments+" en adelante"}}):a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tarifa.final_shipments,expression:"tarifa.final_shipments",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"final_shipments"},domProps:{value:t.tarifa.final_shipments},on:{input:function(e){e.target.composing||t.$set(t.tarifa,"final_shipments",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"distance_base"}},[t._v("Distancia base")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tarifa.distance_base,expression:"tarifa.distance_base",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"distance_base","aria-describedby":"orderHelp"},domProps:{value:t.tarifa.distance_base},on:{input:function(e){e.target.composing||t.$set(t.tarifa,"distance_base",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"km_additional"}},[t._v("Km adicional")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tarifa.km_additional,expression:"tarifa.km_additional",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"km_additional","aria-describedby":"delayHelp"},domProps:{value:t.tarifa.km_additional},on:{input:function(e){e.target.composing||t.$set(t.tarifa,"km_additional",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"rate_base"}},[t._v("Valor")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tarifa.rate_base,expression:"tarifa.rate_base",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"rate_base"},domProps:{value:t.tarifa.rate_base},on:{input:function(e){e.target.composing||t.$set(t.tarifa,"rate_base",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"col-12"},[a("button",{staticClass:"btn btn-secondary btn-block",on:{click:t.updateRate}},[t._v("Guardar")])])])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark "},[a("tr",[a("th",{staticClass:"text-center"},[t._v("distacia base")]),a("th",[t._v("KM adicional")]),a("th",[t._v("Valor")]),a("th",[t._v("Envio inicial")]),a("th",[t._v("Envio final")]),a("th",{staticClass:"text-center"},[t._v("Detalles")])])])}],n=a("9ab4"),r=a("1b40"),o=a("ba8b"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLoading=!0,e.tarifa={id:0,distance_base:0,km_additional:0,rate_base:0,initial_shipments:0,final_shipments:0},e.service={name:"",rates:[]},e.indexrate=0,e}return Object(n["d"])(e,t),e.prototype.getService=function(){return Object(n["b"])(this,void 0,void 0,(function(){return Object(n["e"])(this,(function(t){switch(t.label){case 0:return[4,o["a"].get("services/table?filter[id]="+this.$route.params.id+"&include=rates",this.setServices)];case 1:return t.sent(),[2]}}))}))},e.prototype.updateRate=function(){return Object(n["b"])(this,void 0,void 0,(function(){return Object(n["e"])(this,(function(t){switch(t.label){case 0:return[4,o["a"].put("rates/"+this.tarifa.id+"/service?filter[id]="+this.$route.params.id+"&include=rates",this.tarifa,this.setServices)];case 1:return t.sent(),this.$refs.modal.close(),[2]}}))}))},e.prototype.setServices=function(t){console.log(t),this.service={name:t.data[0].name,rates:t.data[0].rates},this.isLoading=!1},e.prototype.openDialog=function(t){this.indexrate=t;var e=this.service.rates[t];this.tarifa={id:e.id,km_additional:e.km_additional,distance_base:e.distance_base,rate_base:e.rate_base,initial_shipments:e.initial_shipments,final_shipments:e.final_shipments},this.$refs.modal.open()},e.prototype.created=function(){this.getService()},e=Object(n["c"])([r["a"]],e),e}(r["c"]),c=l,d=c,u=a("2877"),f=Object(u["a"])(d,i,s,!1,null,"48f5e184",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-7d2dd9e8.f896c0be.js.map