{"version":3,"sources":["webpack:///./src/views/ServiceMap.vue?4ece","webpack:///./src/components/maps/Directionrenderer.js","webpack:///./src/views/ServiceMap.vue?45ed","webpack:///./src/views/ServiceMap.vue?ab8c","webpack:///./src/views/ServiceMap.vue"],"names":["templateObject","Object","freeze","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","gql","shipping_id","scopedSlots","_u","key","fn","ref","ref_result","result","loading","error","data","on","$event","_v","_s","staticStyle","lat","lng","renderMapService","init","latitude","longitude","finish","_l","position","index","text","positions","length","fontFamily","color","fontSize","openInfoWindow","infoWindows","includes","disableWindow","speed","toFixed","staticRenderFns","name","google","maps","DirectionsRenderer","events","mappedProps","props","origin","type","destination","waypoints","Array","travelMode","String","directionsRenderer","directionsService","window","DirectionsService","console","log","route","optimizeWaypoints","response","status","setDirections","setOptions","draggable","suppressInfoWindows","catch","e","$watch","urlImgDboy","load","dboyData","push","remove","getData","created","ServiceMap","components","component"],"mappings":"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","file":"js/chunk-2d21e000.2afdc2f8.js","sourcesContent":["var templateObject = Object.freeze([\"\\n            query renderMapService($shipping_id: ID! ) {\\n             renderMapService(shipping_id: $shipping_id){\\n              init{\\n                latitude\\n                longitude\\n                title\\n                description\\n              }\\n              finish{\\n                latitude\\n                longitude\\n                title\\n                description\\n              }\\n              time\\n              distance\\n              dboy{\\n                id\\n                firstname\\n                lastname\\n                email\\n                phone\\n              }\\n              positions{\\n                latitude\\n                longitude\\n                speed\\n                altitude\\n              }\\n            }\\n          }\\n          \"]);\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout-px-spacing\"},[_c('div',{staticClass:\"row layout-top-spacing\"},[_c('ApolloQuery',{staticClass:\"col-12\",attrs:{\"debounce\":600,\"query\":function (gql) { return gql(templateObject); },\"variables\":{ shipping_id : 34 }},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n          var ref_result = ref.result;\n          var loading = ref_result.loading;\n          var error = ref_result.error;\n          var data = ref_result.data;\nreturn [(loading)?_c('div',{staticClass:\"loading apollo\"},[_c('div',[_c('loading',{attrs:{\"active\":loading,\"is-full-page\":true},on:{\"update:active\":function($event){loading=$event}}})],1)]):(error)?_c('div',{staticClass:\"error apollo\"},[_vm._v(\"An error occurred\")]):(data)?_c('div',[_c('pre',[_vm._v(_vm._s(data))]),_c('GmapMap',{staticStyle:{\"width\":\"100%\",\"height\":\"800px\"},attrs:{\"center\":{lat:4.676001, lng:-74.098892},\"zoom\":11}},[_c('directions-renderer',{attrs:{\"travelMode\":\"DRIVING\",\"origin\":{lat:data.renderMapService.init.latitude, lng:data.renderMapService.init.longitude},\"destination\":{lat:data.renderMapService.finish.latitude, lng:data.renderMapService.finish.longitude}}}),_vm._l((data.renderMapService.positions),function(position,index){return _c('GmapMarker',{key:index,attrs:{\"position\":{lat: position.latitude, lng:position.longitude},\"clickable\":true,\"draggable\":false,\"highlight\":\"#ffffff\",\"size\":\"200\",\"title\":(\"Velocidad: \" + (position.speed)),\"label\":{\n            text:(index +1 ) === data.renderMapService.positions.length ?  'sports_motorsports' :'delivery_dining',\n            fontFamily: 'Material Icons',\n            color: (index +1 ) === data.renderMapService.positions.length ? '#000000' : '#ffffff',\n            fontSize:(index +1 ) === data.renderMapService.positions.length ? '24px':'18px',\n          }},on:{\"click\":function($event){return _vm.openInfoWindow(index)}}},[_c('gmap-info-window',{attrs:{\"opened\":_vm.infoWindows.includes(index)},on:{\"closeclick\":function($event){return _vm.disableWindow(index)}}},[_c('div',[_vm._v(\" \"+_vm._s(position.speed.toFixed(2) +' km')+\" \")])])],1)})],2)],1):_c('div',{staticClass:\"no-result apollo\"},[_vm._v(\"No result :(\")])]}}])})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { MapElementFactory } from \"vue2-google-maps\";\r\n\r\nexport default MapElementFactory({\r\n    name: \"directionsRenderer\",\r\n\r\n    ctr() {\r\n        return google.maps.DirectionsRenderer;\r\n    },\r\n\r\n    events: [],\r\n\r\n    mappedProps: {},\r\n\r\n    props: {\r\n        origin: { type: Object },\r\n        destination: { type: Object },\r\n        waypoints: { type: Array },\r\n        travelMode: { type: String }\r\n    },\r\n\r\n    afterCreate(directionsRenderer) {\r\n        let directionsService = new window.google.maps.DirectionsService();\r\n        console.log(directionsService)\r\n        let { origin, destination, travelMode, waypoints } = this;\r\n\r\n        directionsService.route(\r\n            {\r\n                origin,\r\n                destination,\r\n                travelMode,\r\n                waypoints,\r\n                optimizeWaypoints: true,\r\n            },\r\n            (response, status) => {\r\n                console.log(response)\r\n\r\n                if (status !== \"OK\") return;\r\n                directionsRenderer.setDirections(response);\r\n                directionsRenderer.setOptions({\r\n                    draggable: false,\r\n                    suppressInfoWindows: true\r\n                })\r\n            }\r\n        ).catch(e => console.log(e));\r\n        this.$watch(\r\n            () => [this.origin, this.destination, this.travelMode, this.waypoints],\r\n            () => {\r\n                let { origin, destination, travelMode, waypoints } = this;\r\n                if (!origin || !destination || !travelMode) return;\r\n\r\n                directionsService.route(\r\n                    {\r\n                        origin,\r\n                        destination,\r\n                        travelMode,\r\n                        waypoints,\r\n                        optimizeWaypoints: true,\r\n                    },\r\n                    (response, status) => {\r\n                        console.log(response)\r\n\r\n                        if (status !== \"OK\") return;\r\n                        directionsRenderer.setDirections(response);\r\n\r\n                        directionsRenderer.setOptions({\r\n                            draggable: false,\r\n                            suppressInfoWindows: true\r\n\r\n                        })\r\n                    }\r\n                ).catch(e => console.log(e));\r\n            }\r\n        );\r\n    }\r\n});\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {Vue, Component} from \"vue-property-decorator\";\r\n// @ts-ignore\r\nimport directionsRenderer from \"@/components/maps/Directionrenderer\";\r\n\r\nimport {State} from \"vuex-class\";\r\nimport _ from 'lodash';\r\n\r\n@Component({\r\n  components:{\r\n    directionsRenderer,\r\n  }\r\n})\r\nexport default class ServiceMap  extends Vue {\r\n  @State('dboyId') dboy\r\n\r\n  public urlImgDboy = 'https://todi-upload.s3.amazonaws.com/upload/dboys/';\r\n\r\n  public waypoints = []\r\n  public origin: any = null;\r\n  public destination: any = null;\r\n  public load = false;\r\n\r\n  public dboyData: any = null;\r\n\r\n  public infoWindows: number[] = [];\r\n\r\n\r\n\r\n\r\n  openInfoWindow(index: number){\r\n    if(this.infoWindows.includes(index)){\r\n      return\r\n    }\r\n     this.infoWindows.push(index)\r\n  }\r\n  disableWindow(index){\r\n    if(this.infoWindows.includes(index)){\r\n      this.infoWindows = _.remove(this.infoWindows, index)\r\n    }\r\n  }\r\n\r\n  getData(){\r\n\r\n  }\r\n\r\n\r\n  created(){\r\n    this.getData();\r\n  }\r\n\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceMap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceMap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ServiceMap.vue?vue&type=template&id=267ca12a&scoped=true&\"\nimport script from \"./ServiceMap.vue?vue&type=script&lang=ts&\"\nexport * from \"./ServiceMap.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"267ca12a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}