(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8709fe62"],{"4c61":function(n,e,t){"use strict";t.d(e,"b",(function(){return o})),t.d(e,"c",(function(){return d})),t.d(e,"a",(function(){return c}));var i,s,a=t("9ab4"),r=t("5184"),o=Object(r["a"])(i||(i=Object(a["f"])(["\n    mutation updatedIssue($id: ID! $status: String, $user_id: ID!){\n        updatedIssue(\n            input:{\n                id: $id\n                status: $status\n                user_id: $user_id\n            }\n        ) {\n            id\n            status\n\n        }\n    }\n"],["\n    mutation updatedIssue($id: ID! $status: String, $user_id: ID!){\n        updatedIssue(\n            input:{\n                id: $id\n                status: $status\n                user_id: $user_id\n            }\n        ) {\n            id\n            status\n\n        }\n    }\n"]))),d=function(){function n(n,e,t){this.user_id=t,this.id=n,this.status=e}return n.prototype.response=function(){return Object(a["a"])({},this)},n}(),c=Object(r["a"])(s||(s=Object(a["f"])(["\n    mutation createdMessage($type: MessageEnum! $text: String $room_id: ID!\n        $room_user_id: ID! $is_response: Boolean! $ref_message: Int $quick_replies: Json $file: Upload\n        $file_ext: String\n    ){\n        createdMessage(\n            input:{\n                type:$type\n                text:$text\n                room_id: $room_id\n                room_user_id: $room_user_id\n                is_response:$is_response\n                ref_message: $ref_message\n                quick_replies:$quick_replies\n                file: $file\n                file_ext: $file_ext\n            }\n        ){\n            id\n            type\n            text\n            file\n            file_ext\n            status\n            ref_message\n            audio\n            size\n            duration\n            file_name\n            init_day\n            reference_response{\n                id\n                type\n                text\n                file\n                file_ext\n                status\n            }\n\n        }\n    }\n"],["\n    mutation createdMessage($type: MessageEnum! $text: String $room_id: ID!\n        $room_user_id: ID! $is_response: Boolean! $ref_message: Int $quick_replies: Json $file: Upload\n        $file_ext: String\n    ){\n        createdMessage(\n            input:{\n                type:$type\n                text:$text\n                room_id: $room_id\n                room_user_id: $room_user_id\n                is_response:$is_response\n                ref_message: $ref_message\n                quick_replies:$quick_replies\n                file: $file\n                file_ext: $file_ext\n            }\n        ){\n            id\n            type\n            text\n            file\n            file_ext\n            status\n            ref_message\n            audio\n            size\n            duration\n            file_name\n            init_day\n            reference_response{\n                id\n                type\n                text\n                file\n                file_ext\n                status\n            }\n\n        }\n    }\n"])))},9665:function(n,e,t){"use strict";t.d(e,"b",(function(){return u})),t.d(e,"c",(function(){return p})),t.d(e,"a",(function(){return _}));var i,s,a,r,o,d,c=t("9ab4"),l=t("5184"),u=Object(l["a"])(i||(i=Object(c["f"])(["\n    subscription{\n        serviceUpdated{\n            id\n            name\n            descripcion\n            priority\n        }\n    }\n"],["\n    subscription{\n        serviceUpdated{\n            id\n            name\n            descripcion\n            priority\n        }\n    }\n"]))),p=(Object(l["a"])(s||(s=Object(c["f"])(["\n    subscription deliveryUpdated($i: ID) {\n        deliveryUpdated(id:$i) {\n            id\n            reference\n            status\n            distance\n            total\n            point\n            date\n            hour\n            value\n            estado\n            service{\n                id\n                name\n                wallpaper\n            }\n            dboy{\n                firstname\n                lastname\n                id\n                selfie\n            }\n            user{\n                id\n                firstname\n                lastname\n                phone\n                avatar\n            }\n            directions{\n                id\n                address\n                lat\n                lng\n                message\n                evidence\n                total_ce\n                created_at\n                total_direction\n                client_phone\n                client_name\n                km_additional\n                contra_entrega\n                total_ce\n                cuota_ce\n            }\n        }\n    }\n"],["\n    subscription deliveryUpdated($i: ID) {\n        deliveryUpdated(id:$i) {\n            id\n            reference\n            status\n            distance\n            total\n            point\n            date\n            hour\n            value\n            estado\n            service{\n                id\n                name\n                wallpaper\n            }\n            dboy{\n                firstname\n                lastname\n                id\n                selfie\n            }\n            user{\n                id\n                firstname\n                lastname\n                phone\n                avatar\n            }\n            directions{\n                id\n                address\n                lat\n                lng\n                message\n                evidence\n                total_ce\n                created_at\n                total_direction\n                client_phone\n                client_name\n                km_additional\n                contra_entrega\n                total_ce\n                cuota_ce\n            }\n        }\n    }\n"]))),Object(l["a"])(a||(a=Object(c["f"])(["\n    subscription shippingUpdated($id: ID) {\n        shippingUpdated(id:$id) {\n             id\n                  dboy_id\n                  user_id\n                  lat\n                  lng\n                  type_delivery\n                  shipping_service_id\n                  active\n                  reserve_date\n                  reserve_time\n                  status\n                  payment_location\n                  housing_type\n                  is_transfer\n                  address\n                  midday\n                  shipping_type{\n                    id\n                    title\n                    image\n                  }\n                  total\n                  total_ce\n                  sub_total\n                  ce_service\n                  discount_percent\n                  secure\n                  secure_percent\n                  km_additional_total\n                  km_additional\n                  distance\n                  created_at\n                  user{\n                    id\n                    firstname\n                    lastname\n                    email\n                    phone\n                    avatar\n                    discount\n                  }\n                  dboy{\n                    id\n                    firstname\n                    lastname\n                    selfie\n                    phone\n                    email\n                  }\n\n                  service{\n                    id\n                    name\n                    descripcion\n                }\n        }\n    }\n"],["\n    subscription shippingUpdated($id: ID) {\n        shippingUpdated(id:$id) {\n             id\n                  dboy_id\n                  user_id\n                  lat\n                  lng\n                  type_delivery\n                  shipping_service_id\n                  active\n                  reserve_date\n                  reserve_time\n                  status\n                  payment_location\n                  housing_type\n                  is_transfer\n                  address\n                  midday\n                  shipping_type{\n                    id\n                    title\n                    image\n                  }\n                  total\n                  total_ce\n                  sub_total\n                  ce_service\n                  discount_percent\n                  secure\n                  secure_percent\n                  km_additional_total\n                  km_additional\n                  distance\n                  created_at\n                  user{\n                    id\n                    firstname\n                    lastname\n                    email\n                    phone\n                    avatar\n                    discount\n                  }\n                  dboy{\n                    id\n                    firstname\n                    lastname\n                    selfie\n                    phone\n                    email\n                  }\n\n                  service{\n                    id\n                    name\n                    descripcion\n                }\n        }\n    }\n"]))),Object(l["a"])(r||(r=Object(c["f"])(["\n    subscription shippingUpdatedAll {\n        shippingUpdated {\n              id\n              dboy_id\n              user_id\n              lat\n              lng\n              type_delivery\n              shipping_service_id\n              active\n              reserve_date\n              reserve_time\n              status\n              payment_location\n              housing_type\n              is_transfer\n              address\n              midday\n              shipping_type{\n                id\n                title\n                image\n              }\n              total\n              total_ce\n              sub_total\n              ce_service\n              discount_percent\n              secure\n              secure_percent\n              km_additional_total\n              km_additional\n              distance\n              created_at\n              user{\n                id\n                firstname\n                lastname\n                email\n                phone\n                avatar\n                discount\n              }\n              dboy{\n                id\n                firstname\n                lastname\n                selfie\n                phone\n                email\n              }\n    \n              service{\n                id\n                name\n                descripcion\n            }\n        }\n    }\n"],["\n    subscription shippingUpdatedAll {\n        shippingUpdated {\n              id\n              dboy_id\n              user_id\n              lat\n              lng\n              type_delivery\n              shipping_service_id\n              active\n              reserve_date\n              reserve_time\n              status\n              payment_location\n              housing_type\n              is_transfer\n              address\n              midday\n              shipping_type{\n                id\n                title\n                image\n              }\n              total\n              total_ce\n              sub_total\n              ce_service\n              discount_percent\n              secure\n              secure_percent\n              km_additional_total\n              km_additional\n              distance\n              created_at\n              user{\n                id\n                firstname\n                lastname\n                email\n                phone\n                avatar\n                discount\n              }\n              dboy{\n                id\n                firstname\n                lastname\n                selfie\n                phone\n                email\n              }\n    \n              service{\n                id\n                name\n                descripcion\n            }\n        }\n    }\n"])))),_=(function(){function n(n){this.id=n}n.prototype.response=function(){return Object(c["a"])({},this)}}(),Object(l["a"])(o||(o=Object(c["f"])(["\n    subscription issueUpdated {\n        issueUpdated(\n            all: true\n        ){\n            id\n            description\n            status\n            action{\n                title\n                code\n                when_to_use\n            }\n            entity{\n                __typename\n                ... on Dboys{\n                    id\n                    firstname\n                    lastname\n                }\n                ... on User{\n                    id\n                    firstname\n                    lastname\n                }\n            }\n            shipping{\n                id\n                user_id\n                reserve_date\n            }\n\n        }\n    }\n"],["\n    subscription issueUpdated {\n        issueUpdated(\n            all: true\n        ){\n            id\n            description\n            status\n            action{\n                title\n                code\n                when_to_use\n            }\n            entity{\n                __typename\n                ... on Dboys{\n                    id\n                    firstname\n                    lastname\n                }\n                ... on User{\n                    id\n                    firstname\n                    lastname\n                }\n            }\n            shipping{\n                id\n                user_id\n                reserve_date\n            }\n\n        }\n    }\n"]))));Object(l["a"])(d||(d=Object(c["f"])(["\n    subscription createdRoomMessage {\n        createdRoomMessage(\n            all: true\n        ){\n            id\n            type\n            text\n            file\n            file_ext\n            status\n            is_response\n            created_at\n            user{\n                id\n                owner{\n                    ...on User{\n                        id\n                        firstname\n                    }\n                    ...on Dboys{\n                        id\n                        firstname\n                    }\n                }\n                role\n            }\n            reference_response{\n                id\n                type\n                text\n                file\n                file_ext\n            }\n        }\n    }\n"],["\n    subscription createdRoomMessage {\n        createdRoomMessage(\n            all: true\n        ){\n            id\n            type\n            text\n            file\n            file_ext\n            status\n            is_response\n            created_at\n            user{\n                id\n                owner{\n                    ...on User{\n                        id\n                        firstname\n                    }\n                    ...on Dboys{\n                        id\n                        firstname\n                    }\n                }\n                role\n            }\n            reference_response{\n                id\n                type\n                text\n                file\n                file_ext\n            }\n        }\n    }\n"])))},d80c:function(n,e,t){"use strict";t.r(e);var i=Object.freeze(["\n            query {\n              issues{\n                id\n                description\n                status\n                 action{\n                  title\n                  code\n                  when_to_use\n                }\n                entity{\n                  __typename\n                  ... on Dboys{\n                    id\n                    firstname\n                    lastname\n                  }\n                  ... on User{\n                    id\n                    firstname\n                    lastname\n                  }\n                }\n                shipping{\n                  id\n                  user_id\n                  reserve_date\n                }\n\n              }\n            }\n          "]),s=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"layout-px-spacing"},[t("div",{staticClass:"row layout-top-spacing"},[t("ApolloQuery",{staticClass:"col-12",attrs:{debounce:600,query:function(n){return n(i)},variables:{}},scopedSlots:n._u([{key:"default",fn:function(e){var i=e.result,s=i.loading,a=i.error,r=i.data;return[s||null==r?t("div",{staticClass:"loading apollo"},[t("div",[t("loading",{attrs:{active:!0,"is-full-page":!0}})],1)]):a?t("div",{staticClass:"error apollo"},[n._v("An error occurred")]):r?t("div",{staticClass:"row"},[t("pre",[n._v(n._s(n.profile))]),t("div",{staticClass:" col-12 statbox widget box box-shadow"},[t("div",{staticClass:"widget-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-xl-12 col-md-12 col-sm-12 col-12"},[t("h4",[n._v("Issues")])])])]),t("div",{staticClass:"widget-content widget-content-area"},[t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table mb-4"},[t("caption",[n._v("Todos los issues")]),t("thead",{staticClass:"thead-dark "},[t("tr",[t("th",{staticClass:"text-center"},[n._v("Issue id")]),t("th",{staticClass:"text-center"},[n._v("Servicio id")]),t("th",[n._v("reporte")]),t("th",[n._v("Descripción")]),t("th",[n._v("Estado")]),t("th",{staticClass:"text-center"},[n._v("Tipo de solicitante")]),t("th",{staticClass:"text-center"},[n._v("Solicitante")]),t("th",{staticClass:"text-center"},[n._v("Opciones")])])]),t("tbody",n._l(r.issues,(function(e,i){return t("tr",[t("td",{domProps:{textContent:n._s(e.id)}}),t("td",{domProps:{textContent:n._s(e.shipping.id)}}),t("td",{domProps:{textContent:n._s(e.action.title)}}),t("td",{domProps:{textContent:n._s(e.description)}}),t("td",{domProps:{textContent:n._s(e.status.replaceAll("_"," "))}}),t("td",{staticClass:"text-center"},[t("span",{staticClass:"badge badge-secondary"},[n._v(n._s(n.typeUserName(e.entity.__typename)))])]),t("td",{staticClass:"text-center"},[n._v(" "+n._s(e.entity.firstname+" "+e.entity.lastname)+" ")]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},["open"===e.status?t("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"issues-room",params:{id:e.id}},tag:"button",type:"button"}},[n._v("Chat")]):n._e(),"not_reviewed"===e.status?t("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(t){return n.updatedStatusIssue(e.id,"open")}}},[n._v("Abrir caso")]):n._e(),"open"===e.status?t("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return n.updatedStatusIssue(e.id,"close")}}},[n._v("cerrar caso")]):n._e()],1)])])})),0)])])])])]):t("div",{staticClass:"no-result apollo"},[n._v("No result :(")])]}}])})],1)])},a=[],r=t("9ab4"),o=t("1b40"),d=t("9665"),c=t("4c61"),l=t("4bb5"),u=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(r["d"])(e,n),e.prototype.typeUserName=function(n){switch(n){case"Dboys":return"Repartidor";case"User":return"Usuario"}},e.prototype.updatedStatusIssue=function(n,e){var t=this,i=new c["c"](n,e,this.profile.id);this.$apollo.mutate({mutation:c["b"],variables:i.response()}).then((function(){t.$alert("Se ha actualizado el issue","¡Exito!","success")})).catch((function(){t.$alert("No se ha actualizado el issue","¡Error!","error")}))},e.prototype.created=function(){var n=this.$apollo.subscribe({query:d["a"]});n.subscribe({next:function(n){console.log(n)},error:function(n){console.log(n)}})},Object(r["c"])([Object(l["a"])((function(n){return n.profile.profile}))],e.prototype,"profile",void 0),e=Object(r["c"])([o["a"]],e),e}(o["c"]),p=u,_=p,m=t("2877"),f=Object(m["a"])(_,s,a,!1,null,"8875a4d8",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-8709fe62.6fae677c.js.map